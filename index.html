<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ritualium</title>
<link href="https://fonts.googleapis.com/css2?family=Forum&display=swap" rel="stylesheet">
<style>
body, html {margin:0;padding:0;font-family:'Forum',serif;background:radial-gradient(circle at center,#21012a 0%,#0c0016 100%);color:#f5e7c6;text-align:center;scroll-behavior:smooth;}
h1{font-size:3em;margin:10px 0;color:#e5d89c;text-shadow:0 0 8px #e5d89c,0 0 15px #ffd700;}
h2{font-size:1.3em;margin:5px 0 20px;color:#cbb67c;}
p.lead{max-width:600px;margin:0 auto 30px;font-size:1em;color:#d8cda7;}
.moon-phases{display:flex;justify-content:center;gap:30px;flex-wrap:wrap;margin:30px 0;}
.moon-phases img{width:140px;border-radius:50%;cursor:pointer;opacity:.6;transition:all .3s;}
.moon-phases img.active{opacity:1;transform:scale(1.1);box-shadow:0 0 25px 5px #e5d89c;border:3px solid #e5d89c;}
.categories{display:flex;justify-content:center;gap:35px;flex-wrap:wrap;margin-bottom:30px;}
.category{width:100px;display:flex;flex-direction:column;align-items:center;opacity:.35;transition:all .25s;pointer-events:none;cursor:pointer;}
.category img{width:80px;margin-bottom:8px;}
.category span{font-size:1em;color:#f0e6c1;}
.category.active{opacity:1;pointer-events:auto;transform:scale(1.05);}
#tip-box{min-height:48px;margin:10px auto 30px;padding:12px 16px;border-radius:12px;background:rgba(229,216,156,0.06);border:1px solid rgba(229,216,156,0.12);color:#e5d89c;text-shadow:0 0 8px #ffd700,0 0 15px #fff4c1;opacity:0;transform:translateY(6px);transition:opacity .45s,transform .45s;}
#tip-box.show{opacity:1;transform:translateY(0);}
#accept-btn-img{cursor:pointer;width:220px;margin-top:10px;transition:transform .3s;}
#accept-btn-img:hover{transform:scale(1.05);}
#ascetic-form{display:none;flex-direction:column;align-items:center;padding:30px 16px;}
input,textarea{width:320px;max-width:90%;padding:10px;border-radius:10px;border:none;font-size:15px;margin:6px 0;}
textarea{height:90px;resize:vertical;}
#dashboard{display:none;flex-direction:column;align-items:center;padding:30px 16px;}
.nft-preview{width:280px;height:280px;background:#24102b;border:2px solid #e5d89c;border-radius:18px;display:flex;align-items:center;justify-content:center;margin:10px auto;box-shadow:0 0 16px rgba(229,216,156,.14);overflow:hidden;}
.progress-bar{width:320px;max-width:90%;height:18px;background:#2b0035;border-radius:10px;margin:12px auto;overflow:hidden;}
.progress-inner{height:100%;background:linear-gradient(90deg,#e5d89c,#c4a656);width:0%;transition:width .5s;}
#days-left{margin-top:10px;font-size:1.2em;color:#e5d89c;}
.btn{background:linear-gradient(90deg,#e5d89c,#c4a656);color:#21012a;padding:12px 26px;border-radius:40px;border:none;cursor:pointer;box-shadow:0 0 14px rgba(229,216,156,.45);transition:transform .3s,box-shadow .3s;}
.btn:hover{transform:scale(1.03);box-shadow:0 0 26px rgba(255,255,180,.9);}
#burn-btn{background:#ffb07a;}
#cleanse-btn{background:#cde7a8;display:none;}
/* üî• –≠—Ñ—Ñ–µ–∫—Ç —Å–∂–∏–≥–∞–Ω–∏—è NFT */
@keyframes burn {
  0% { filter: brightness(1) blur(0px); opacity:1; }
  50% { filter: brightness(2) blur(2px); opacity:0.6; transform:scale(1.05);}
  100% { filter: brightness(0.5) blur(6px); opacity:0; transform:scale(0.9);}
}
.burning canvas { animation: burn 2.5s forwards; }
</style>
</head>
<body>
<div class="wrap center">

  <!-- First Screen -->
  <div id="first-screen">
    <div class="moon-phases">
      <img id="moon-new" src="Luna1.png" alt="New Moon" data-phase="new">
      <img id="moon-wax" src="Luna2.png" alt="Waxing Moon" data-phase="waxing">
      <img id="moon-static" src="Luna3.png" alt="Decorative" data-phase="static">
      <img id="moon-wan" src="Luna4.png" alt="Waning Moon" data-phase="waning">
      <img id="moon-full" src="Luna5.png" alt="Full Moon" data-phase="full">
    </div>
    <h1>Ritualium</h1>
    <h2>Your Spiritual Journey</h2>
    <p class="lead">Take an oath for the greater good ‚Äî with intentions, we pave the path ahead.</p>

    <div class="categories">
      <div class="category" id="money"><img src="hand1.png" alt=""><span>Money</span></div>
      <div class="category" id="love"><img src="hand2.png" alt=""><span>Love</span></div>
      <div class="category" id="growth"><img src="hand3.png" alt=""><span>Growth</span></div>
      <div class="category" id="wish"><img src="hand4.png" alt=""><span>Manifestation</span></div>
      <div class="category" id="cleansing"><img src="hand5.png" alt=""><span>Cleansing</span></div>
    </div>

    <div id="tip-box">‚ú® Click an active hand to get a ritual suggestion ‚ú®</div>

    <button id="start-btn" class="btn">Start Your Path</button>
  </div>

  <!-- Ascetic Form -->
  <section id="ascetic-form">
    <h2>Ascetic Form</h2>
    <input type="text" id="letter" placeholder="Letter">
    <input type="text" id="lucky-number" placeholder="Lucky Number">
    <input type="text" id="lucky-symbol" placeholder="Lucky Symbol">
    <textarea id="promise" placeholder="Your Promise"></textarea>
    <textarea id="desire" placeholder="Your Desire"></textarea>
    <input type="number" id="days" placeholder="Duration (days)" min="1">
    <img src="button.png" id="accept-btn-img" alt="Accept Ascetic">
  </section>

  <!-- Dashboard -->
  <section id="dashboard">
    <h2>Your Ritual NFT</h2>
    <div class="nft-preview" id="nft-preview">NFT Preview</div>
    <div class="progress-bar"><div id="progress-inner" class="progress-inner"></div></div>
    <div id="days-left"></div>
    <div style="display:flex;gap:12px;justify-content:center;flex-wrap:wrap;margin-top:8px">
      <button id="mint-btn" class="btn">Mint Your NFT</button>
      <button id="burn-btn" class="btn">Burn Promise</button>
      <button id="cleanse-btn" class="btn">Cleanse Energy</button>
    </div>
  </section>

</div>

<script>
document.addEventListener('DOMContentLoaded', ()=>{
  const moonImgs = {
    new:document.getElementById('moon-new'),
    waxing:document.getElementById('moon-wax'),
    waning:document.getElementById('moon-wan'),
    full:document.getElementById('moon-full'),
    static:document.getElementById('moon-static')
  };
  const categories = Array.from(document.querySelectorAll('.category'));
  const tipBox = document.getElementById('tip-box');
  const startBtn = document.getElementById('start-btn');
  const firstScreen = document.getElementById('first-screen');
  const formSection = document.getElementById('ascetic-form');
  const dashboardSection = document.getElementById('dashboard');
  const acceptBtnImg = document.getElementById('accept-btn-img');
  const nftPreview = document.getElementById('nft-preview');
  const progressInner = document.getElementById('progress-inner');
  const burnBtn = document.getElementById('burn-btn');
  const cleanseBtn = document.getElementById('cleanse-btn');
  const mintBtn = document.getElementById('mint-btn');
  const daysLeftEl = document.getElementById('days-left');

  const moonRecommendations = {
    new:["wish","growth"],
    waxing:["growth","money"],
    waning:["cleansing","love"],
    full:["money","love","wish","growth"]
  };

  const asceticTips = {
    money:["<span style='color:#ffd700'>üí∞</span> Limit spending to essentials for 7 days.","<span style='color:#ffd700'>üí∞</span> Keep a gratitude log daily.","<span style='color:#ffd700'>üí∞</span> Save 10% of income in sacred jar."],
    love:["<span style='color:#ffd700'>‚ù§Ô∏è</span> Daily affirmations of self-love.","<span style='color:#ffd700'>‚ù§Ô∏è</span> Express appreciation to someone.","<span style='color:#ffd700'>‚ù§Ô∏è</span> 7-day compassion meditation."],
    growth:["<span style='color:#ffd700'>üå±</span> Meditate 10 mins each morning.","<span style='color:#ffd700'>üå±</span> Read 5 pages daily.","<span style='color:#ffd700'>üå±</span> Set one micro-goal per day."],
    wish:["<span style='color:#ffd700'>‚ú®</span> Visualize your goal 5 mins before sleep.","<span style='color:#ffd700'>‚ú®</span> Create a sigil and focus on it.","<span style='color:#ffd700'>‚ú®</span> Write wish on paper and place near bed."],
    cleansing:["<span style='color:#ffd700'>üî•</span> Declutter daily and donate.","<span style='color:#ffd700'>üî•</span> Take cleansing salt bath.","<span style='color:#ffd700'>üî•</span> Burn incense and release intentions."]
  };

  const nftThemes = {
    money: ['#154f30','#00c17a'],
    love: ['#5d1230','#d6005c'],
    growth: ['#164d0c','#4caf50'],
    wish: ['#301a5c','#7a00ff'],
    cleansing: ['#4a2b00','#ff9100']
  };

  let selectedCategory = null;

  function showTip(text){tipBox.classList.remove('show');setTimeout(()=>{tipBox.innerHTML=text;tipBox.classList.add('show');},120);}

  function applyPhaseUI(phase){
    Object.values(moonImgs).forEach(img=>img.classList.remove('active'));
    if(moonImgs[phase]) moonImgs[phase].classList.add('active');
    const recommended = moonRecommendations[phase] || [];
    categories.forEach(cat=>{
      cat.classList.toggle('active',recommended.includes(cat.id));
    });
    if(recommended.length) showTip('Choose a highlighted hand to get a suggested ascetic practice.');
    else showTip('Click any hand to view suggestions.');
  }

  function getMoonPhase(){
    const now=new Date();
    const lunarMonth = 29.530588853;
    const knownNewMoon = new Date(2025,0,1);
    const diff = now - knownNewMoon;
    const days = diff/(1000*60*60*24);
    const lunarAge = days % lunarMonth;
    if(lunarAge<1.84566) return 'new';
    if(lunarAge<12.91963) return 'waxing';
    if(lunarAge<16.61096) return 'full';
    return 'waning';
  }

  const currentPhase = getMoonPhase();
  applyPhaseUI(currentPhase);

  categories.forEach(cat=>{
    cat.addEventListener('click',()=>{
      if(cat.classList.contains('active')){
        selectedCategory = cat.id;
        const tips=asceticTips[cat.id];
        if(tips){
          const rnd=tips[Math.floor(Math.random()*tips.length)];
          showTip(rnd);
        }
      }
    });
  });

  startBtn.addEventListener('click',()=>{
    firstScreen.style.transition='opacity 1s';firstScreen.style.opacity=0;
    setTimeout(()=>{firstScreen.style.display='none';formSection.style.display='flex';formSection.scrollIntoView({behavior:"smooth"});},1000);
  });

  function drawNFT(letter,number,symbol,desire,category){
    const canvas=document.createElement('canvas');canvas.width=280;canvas.height=280;
    const ctx=canvas.getContext('2d');
    const [c1,c2]=nftThemes[category]||['#24102b','#000'];
    const gradient=ctx.createLinearGradient(0,0,280,280);
    gradient.addColorStop(0,c1);gradient.addColorStop(1,c2);
    ctx.fillStyle=gradient;ctx.fillRect(0,0,280,280);
    ctx.strokeStyle='#e5d89c';ctx.lineWidth=4;ctx.strokeRect(0,0,280,280);
    ctx.fillStyle='#ffd700';ctx.font='48px Forum';ctx.textAlign='center';ctx.fillText(letter+number+symbol,140,120);
    ctx.font='18px Forum';ctx.fillStyle='rgba(245,231,198,0.9)';ctx.fillText(desire,140,200);
    return canvas;
  }

  acceptBtnImg.addEventListener('click',()=>{
    const letter=document.getElementById('letter').value||'';
    const number=document.getElementById('lucky-number').value||'';
    const symbol=document.getElementById('lucky-symbol').value||'';
    const desire=document.getElementById('desire').value||'';
    const promise=document.getElementById('promise').value||'';
    const days=parseInt(document.getElementById('days').value)||1;
    if(!promise||!desire){alert('Please fill your promise and desire!');return;}
    formSection.style.display='none';
    dashboardSection.style.display='flex';
    nftPreview.innerHTML='';
    nftPreview.appendChild(drawNFT(letter,number,symbol,desire,selectedCategory));
    progressInner.style.width='0%';
    let width=0;
    const interval=setInterval(()=>{if(width<100){width+=10;progressInner.style.width=width+'%';}else clearInterval(interval);},200);

    let remaining = days;
    daysLeftEl.textContent = `‚è≥ –û—Å—Ç–∞–ª–æ—Å—å ${remaining} –¥–Ω.`;
    const dayInterval = setInterval(()=>{
      remaining--;
      if(remaining>0){
        daysLeftEl.textContent = `‚è≥ –û—Å—Ç–∞–ª–æ—Å—å ${remaining} –¥–Ω.`;
      } else {
        daysLeftEl.textContent = "‚ú® –ê—Å–∫–µ–∑–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞! ‚ú®";
        clearInterval(dayInterval);
      }
    }, 5000); // —Ç–µ—Å—Ç: –∫–∞–∂–¥—ã–µ 5 —Å–µ–∫—É–Ω–¥ = 1 –¥–µ–Ω—å
  });

  burnBtn.addEventListener('click',()=>{
    if(confirm('Are you sure you want to burn your promise?')){
      nftPreview.classList.add('burning');
      setTimeout(()=>{nftPreview.innerHTML='üî• NFT Burned üî•';progressInner.style.width='0%';cleanseBtn.style.display='inline-block';},2500);
    }
  });

  cleanseBtn.addEventListener('click',()=>{window.location.href='ritual-cleansing.html';});
  mintBtn.addEventListener('click',()=>{alert('NFT Minted to your wallet!');});
});
</script>
</body>
</html>
